<div class="modal-card">
  <!-- Header -->
  <div class="modal-header">
    <h3 class="nalej-form-title">{{title}}</h3>
    <button 
      type="button" 
      class="close" 
      aria-label="Close"
      (click)="discardChanges(f)">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- Body -->
  <div class="modal-body">
    <form [formGroup]="editUserForm" (ngSubmit)="saveUserChanges(f)">
      <div class="form-group">
        <label>Name*</label>
        <input 
          formControlName="userName"
          placeholder="{{userName}}"
          pattern="[a-zA-Z0-9]+"
          type="text" 
          value="{{userName}}"
          class="form-control" 
          [ngClass]="{ 'is-invalid': submitted && f.userName.errors }"
          >
          <div *ngIf="!submitted && f.userName.errors" class="error-message"></div>
          <div class="error-h">
            <div *ngIf="submitted && f.userName.errors" class="error-message">
              <div *ngIf="f.userName.errors.minlength">Name is too short</div>
              <div *ngIf="f.userName.errors.pattern">Cannot contain spectial characters</div>
            </div>
          </div>
      </div>
      <div class="form-group">
        <label>Email</label>
        <input 
          formControlName="email" 
          placeholder="{{email}}"
          type="text" 
          class="form-control">
          <div class="error-h"></div>
      </div>
      <div class="form-group">
        <label>Role*</label>
        <div class="btn-group w-100" dropdown>
          <button 
            id="button-basic" 
            dropdownToggle 
            type="button" 
            class="dropdown-toggle cursor-pointer form-control"
            [ngClass]="{ 'is-invalid': submitted && userRole === '' }"
            aria-controls="dropdown-basic">
            {{userRole}}
          </button>
          <ul 
            id="dropdown-basic" 
            *dropdownMenu 
            class="dropdown-menu"
            role="menu" 
            aria-labelledby="button-basic">
            <li role="menuitem">
              <span class="dropdown-item cursor-pointer" (click)="userRole = 'Owner'">
                Owner
              </span>
            </li>
            <li role="menuitem">
              <span class="dropdown-item cursor-pointer" (click)="userRole = 'Developer'">
                Developer
              </span>
            </li>
            <li role="menuitem">
              <span class="dropdown-item cursor-pointer" (click)="userRole = 'Operator'">
                Operator
              </span>
            </li>
          </ul>
        </div>
        <div class="error-h">
          <div *ngIf="submitted" class="error-message">
            <div *ngIf="userRole === ''">A role is required</div>
          </div>
        </div>
      </div>
        <!-- Change password -->
      <div class="change-password" (click)="openChangePassword()">
        <p>Change password</p>
      </div>
      <!-- Save new user -->
      <div class="form-group d-flex flex-row justify-content-center">
        <button class="btn-nalej-form" [disabled]="loading">
          <span class="align-bottom">Save changes</span>
        </button>
      </div>
    </form>
  </div>
</div>